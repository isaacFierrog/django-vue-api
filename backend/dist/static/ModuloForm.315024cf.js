import{m as b}from"./ListadoView.9a6e27c8.js";import{_ as f,o as n,c as l,g as e,j as m,v as h,l as p,F as _,b as S,t as c,k as v,n as x,p as M,i as y}from"./index.1f335c11.js";import"./servicio.844cd778.js";import"./_commonjsHelpers.44717140.js";const F={props:{mostrarForm:{type:Boolean}},data(){return{mac:"",mina:"",area:"",ocultar:!0,numSensores:0,maxSensores:8,minas:["HERMOSILLO","CANANEA"],areas:["A","B","C","D"]}},methods:{agregarSensores(){this.numSensores>=this.maxSensores||this.numSensores++},eliminarSensores(){this.numSensores--},async crearModulo(){try{const t={mac:this.mac,mina:this.mina,area:this.area},s=await b.create(t),d=await s.data,{status:i,statusText:r}=s;if(i<200||i>299)throw{status:i,statusText:r};this.reiniciarCampos(),this.refrescarModulos()}catch({status:t,statusText:s}){console.log(`Error ${t}: ${s||"Ocurrio un error"}`)}},ocultarFormulario(){this.$emit("ocultarFormulario")},refrescarModulos(){this.$emit("refrescarModulos")},reiniciarCampos(){this.mac="",this.mina="",this.area="",this.numSensores=0}},computed:{ocultarForm(){return{"ocultar-layout":this.mostrarForm}}}},u=t=>(M("data-v-aa2823c1"),t=t(),y(),t),g=u(()=>e("h2",{class:"txt-upper blanco-a titulo-modulo"},"Crear modulo",-1)),C=u(()=>e("p",{class:"blanco-a form__label"},"Mac",-1)),k=u(()=>e("p",{class:"blanco-a form__label"},"Mina",-1)),w=["value"],A=u(()=>e("p",{class:"blanco-a form__label"},"Area",-1)),B=["value"],I={class:"sensores"},E=u(()=>e("input",{type:"submit",class:"boton-crear boton-modulo blanco-a txt-upper",value:"Guardar"},null,-1));function V(t,s,d,i,r,a){return n(),l("div",{class:x(["layout-modulo-form",a.ocultarForm])},[e("button",{class:"txt-upper blanco-a titulo-modulo boton-cerrar",onClick:s[0]||(s[0]=(...o)=>a.ocultarFormulario&&a.ocultarFormulario(...o))},"x"),g,e("form",{class:"form",onSubmit:s[6]||(s[6]=v((...o)=>a.crearModulo&&a.crearModulo(...o),["prevent"]))},[C,m(e("input",{type:"text",class:"form__input","onUpdate:modelValue":s[1]||(s[1]=o=>r.mac=o)},null,512),[[h,r.mac]]),k,m(e("select",{class:"form__input","onUpdate:modelValue":s[2]||(s[2]=o=>r.mina=o)},[(n(!0),l(_,null,S(r.minas,o=>(n(),l("option",{key:o,value:o},c(o),9,w))),128))],512),[[p,r.mina]]),A,m(e("select",{class:"form__input","onUpdate:modelValue":s[3]||(s[3]=o=>r.area=o)},[(n(!0),l(_,null,S(r.areas,o=>(n(),l("option",{key:o,value:o},c(o),9,B))),128))],512),[[p,r.area]]),e("section",I,[e("button",{class:"sensores__boton blanco-a",onClick:s[4]||(s[4]=(...o)=>a.eliminarSensores&&a.eliminarSensores(...o))},"-"),e("p",null,"Sensores: "+c(r.numSensores),1),e("button",{class:"sensores__boton blanco-a",onClick:s[5]||(s[5]=(...o)=>a.agregarSensores&&a.agregarSensores(...o))},"+")]),E],32)],2)}const O=f(F,[["render",V],["__scopeId","data-v-aa2823c1"]]);export{O as default};
